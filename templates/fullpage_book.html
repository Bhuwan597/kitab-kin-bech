{% extends 'base.html' %}
{% block title %}{{book.book_name}}- KitabKinBech.com{% endblock title %}
{% block body %}
{% load social_share %}
<section class="body-container flex realtive mt-[100px] flex-col-reverse lg:flex-row-reverse lg:flex-wrap lg:justify-between p-2 gap-8">
    <div id="sidebar" class="w-full lg:w-[32%] shadow-2xl rounded flex flex-col gap-8">
        <div class=" lg:sticky lg:top-20  bg-white">
            <div class="labels flex flex-col gap-4 p-8 mb-8 bg-white " class="sidebar-items">
                <h3
                    class="text-2xl block bord border-b-4 border-indigo-500 p-4 flex justify-start items-center gap-2 font-bold">
                    <i class='bx bx-sm bxs-label'></i> Labels
                </h3>
                {% for category in categories %}
                <div
                class="label-items bg-blue-500 p-2 rounded-xl text-lg flex justify-between items-center hover:bg-blue-600">
                <a class="flex justify-between items-center text-white font-semibold" href="/category/{{category.category}}"><i
                        class='bx bx-sm bx-chevrons-right'></i>{{category.category}}</a> <span
                    class="text-yellow-white bg-yellow-400 px-2 rounded-xl font-bold">{{category.no}}</span>
            </div>

            {% endfor %}
            </div>
            <div class="labels flex flex-col justify-between item gap-4 px-8 mb-8 bg-white" class="sidebar-items">
                <h3
                class="text-2xl block bord border-b-4 border-indigo-500 px-4 flex justify-start items-center gap-2 font-bold">
                <i class='bx bx-sm bx-link'></i> Social Handles
                </h3>
                <div class="flex md:flex-col justify-between gap-2 items-center">
                    <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-blue-600 hover:bg-blue-700 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-facebook-circle'></i> Facebook</a>
                    <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-red-500 hover:bg-red-700 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-instagram-alt' ></i> Instagram</a>
                </div>
                <div class="flex md:flex-col justify-between gap-2 items-center">
                    <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-sky-600 hover:bg-sky-700 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-twitter'></i> Twitter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
                    <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-green-500 hover:bg-green-600 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-whatsapp' ></i> Whatsapp&nbsp;</a>
                </div>
            </div>

        </div>
    </div>
 
    <div class="book-section w-full lg:w-[65%] rounded p-4">
        <div>
            <h1
                class="text-2xl block bord border-b-4 border-indigo-500 p-4 flex justify-start items-center gap-2 font-bold">
                <i class='bx bx-sm bxs-book-alt'></i>{{book.book_name}}
            </h1>
            
            <div class="book-items flex md:flex-col items-center flex-col justify-start md:justify-between md:flex-wrap lg:justify-between lg:flex-wrap gap-2 mt-8">



                <div class="book flex flex-col w-[100%] p-4 shadow-2xl rounded-t-2xl ease-in-out duration-200 border-t-[20px] hover:border-[#7A3E65]">
                    <div class="flex flex-col gap-4">
                        <div class="flex-col flex gap-4 items-center">
                        <img class="w-[400px] h-[100%] rounded" src="{{book.book_cover_photo.url}}" alt="Basic-Mathematics-12-perfect" loading="lazy">
                        <div class="title_description"><span class="font-bold hover:underline text-xl">{{book.book_name}}</span>
                        <span class="block mt-4 text-gray-500 font-bold text-sm">{{book.book_description}}</span>
                        <div class="price_location flex flex-col justify-start mt-4 gap-2">
                            <div class="discount text-xs"><span class="bg-blue-500 text-white px-4 py-2 mr-2">{{book.book_discount}}% off </span> <p class="inline my-3">{{book.seller}}</p> </div>
                            <div class="actual-price flex flex-row justify-between items-center"><span class="font-bold text-2xl">Rs. {{book.book_sp}}</span> <del>Rs. {{book.book_mp}}</del></div>
                            <div class="loation_button">
                                <p>Location: <span class="font-semibold">{{book.book_location}}</span></p>
                                 <span class="block text-xs mt-2 text-center category px-2 py-1 rounded-xl bg-green-500 text-white font-medium">{{book.book_category}}
                                </span>
                            </div>
                            <div class="seller-details">
                                <p class="text-medium my-3">Seller: <span class="font-bold ml-2">{{book.seller}}</span></p><hr>
                                <p class="text-medium my-3">Seller Email: <span class="font-bold ml-2">{{book.seller.email}}</span></p><hr>
                                <p class="text-medium my-3">Seller Address: <span class="font-bold ml-2">{{book.seller.address}}</span></p><hr>
                                <p class="text-medium my-3">Seller Contact: <span class="font-bold ml-2">{{book.seller.phone}}</span></p><hr>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="share-icons flex justify-center items-center gap-1 w-[100%] flex-wrap">
                        <p class="text-xl font-semibold">Share:</p>
                        {% post_to_facebook object_or_url '<i class="bx bx-sm bxl-facebook rounded-full p-2 bg-blue-600 cursor-pointer hover:bg-blue-700 hover:scale-110 text-white"></i>' %}

                        {% post_to_whatsapp object_or_url '<i class="bx bx-sm bxl-whatsapp rounded-full p-2 bg-green-500 cursor-pointer hover:bg-green-600 hover:scale-110 text-white"></i>' %}
                        
                        {% send_email object.title "Buy Now: {{book.book_name}} book. Check out now!" object_or_url '<i class="bx bx-sm bxl-gmail rounded-full p-2 bg-red-600 cursor-pointer hover:bg-red-700 hover:scale-110 text-white"></i>' %}
                        
                        {% post_to_twitter "Buy Now: {{book.book_name}} book. Check out now!" object_or_url '<i class="bx bx-sm bxl-twitter rounded-full p-2 bg-blue-400 cursor-pointer hover:bg-blue-500 hover:scale-110 text-white"></i>' %}

                        {% copy_to_clipboard object_or_url '<i class="bx bx-sm bx-clipboard rounded-full p-2 bg-gray-400 cursor-pointer hover:bg-gray-500 hover:scale-110 text-white" onclick="copy()"></i>' %}
                        
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>

</section>
<div class="some-divs w-[100%] overflow-x-hidden  bg-white flex flex-col md:flex-row md:items-start">
    <div class="recently-uploaded w-[100%] md:w-[50%] p-4 flex flex-row flex-wrap justify-center">
     <h2 class="text-center font-bold text-2xl text-yellow-600 border-b-4 mb-4 basis-full">Recently Uploaded Books</h2>
     {% for recent in recents %}
     <div class="image-title flex justify-center items-center gap-4 rounded shadow-2xl w-[100%] w-[100%]">
         <img class="w-[100px] p-4 rounded-3xl" src="{{recent.book_cover_photo.url}}" alt="" srcset="">
         <a href="/view-book/{{recent.book_slug}}" class="book-title font-bold text-xl w-[100%] mr-2"> {{recent.book_name}}
             <br>
            <span class="text-sm font-medium"> {{recent.book_location}}</span>
         </a>
     </div>
     {% endfor %}
    </div>
    <div class="most-popular w-[100%] w-[100%] md:w-[50%] p-4 flex flex-row flex-wrap justify-center">
     <h2 class="text-center font-bold text-2xl text-yellow-600 border-b-4 mb-4 basis-full">Most Popular Books</h2>
     {% for popular in populars %}
     <div class="image-title flex justify-center items-center gap-4 rounded shadow-2xl w-[100%]">
         <img class="w-[100px] p-4 rounded-3xl" src="{{popular.book_cover_photo.url}}" alt="" srcset="">
         <a href="/view-book/{{popular.book_slug}}" class="book-title font-bold text-xl w-[100%] mr-2"> {{popular.book_name}}
             <br>
            <span class="text-sm font-medium">{{popular.book_location}}</span>
         </a>
     </div>
     {% endfor %}
    </div>
 </div>
 <script>
    function copy(){
        alert('Copied to Clipboard!')
    }
 </script>
{% add_copy_script %} 
{% endblock body %}