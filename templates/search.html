{% extends 'base.html' %}
{% block title %}Search Results{% endblock title %}
{% block body %}
    <section class="body-container flex realtive mt-[100px] flex-col-reverse lg:flex-row-reverse lg:flex-wrap lg:justify-between p-2 gap-8">
        <div id="sidebar" class="w-full lg:w-[32%] shadow-2xl rounded flex flex-col gap-8">
            <div class=" lg:sticky lg:top-20  bg-white">
                <div class="labels flex flex-col gap-4 p-8 mb-8 bg-white " class="sidebar-items">
                    <h3
                        class="text-2xl block bord border-b-4 border-indigo-500 p-4 flex justify-start items-center gap-2 font-bold">
                        <i class='bx bx-sm bxs-label'></i> Labels
                    </h3>
                    {% for category in categories %}
                    <div
                    class="label-items bg-blue-500 p-2 rounded-xl text-lg flex justify-between items-center hover:bg-blue-600">
                    <a class="flex justify-between items-center text-white font-semibold" href="/category/{{category.category}}"><i
                            class='bx bx-sm bx-chevrons-right'></i>{{category.category}}</a> <span
                        class="text-yellow-white bg-yellow-400 px-2 rounded-xl font-bold">{{category.no}}</span>
                </div>
                {% endfor %}
                </div>
                <div class="labels flex flex-col justify-between item gap-4 px-8 mb-8 bg-white" class="sidebar-items">
                    <h3
                    class="text-2xl block bord border-b-4 border-indigo-500 px-4 flex justify-start items-center gap-2 font-bold">
                    <i class='bx bx-sm bx-link'></i> Social Handles
                    </h3>
                    <div class="flex md:flex-col justify-between gap-2 items-center">
                        <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-blue-600 hover:bg-blue-700 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-facebook-circle'></i> Facebook</a>
                        <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-red-500 hover:bg-red-700 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-instagram-alt' ></i> Instagram</a>
                    </div>
                    <div class="flex md:flex-col justify-between gap-2 items-center">
                        <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-sky-600 hover:bg-sky-700 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-twitter'></i> Twitter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
                        <a class="flex w-[100%] justify-center items-center p-3 gap-3 bg-green-500 hover:bg-green-600 text-white text-lg rounded text-center" href="#"><i class='bx bx-sm bxl-whatsapp' ></i> Whatsapp&nbsp;</a>
                    </div>
                </div>
            </div>
        </div>
     
        <div class="book-section w-full lg:w-[65%] rounded p-4">
            <div>
                <h1
                    class="text-2xl text-center block bord border-b-4 border-indigo-500 p-4 flex justify-start items-center gap-2 font-bold">
                    <i class='bx bx-sm bx-search-alt-2'></i>Search Results:
                </h1>
                <div class="book-items flex md:flex-row items-center flex-col justify-start md:justify-between md:flex-wrap lg:justify-between lg:flex-wrap gap-2 mt-8">

                    {% if books %}
                    {% for book in books %}
                        
                <div class="book flex flex-col w-[100%] md:w-[45%] p-4 shadow-2xl rounded-t-2xl ease-in-out duration-200 border-t-[20px] hover:border-[#7A3E65] bg-white">
                    <a href="/view-book/{{book.book_slug}}" class="flex flex-col gap-4">
                        <div class="flex-row flex gap-4 items-center">
                        <img class="w-[35%] h-[100%] rounded" src="{{book.book_cover_photo.url}}" alt="Basic-Mathematics-12-perfect" loading="lazy">
                        <div class="title_description"><span class="font-bold hover:underline text-xl">{{book.book_name}}</span>
                        <span class="block mt-4 text-gray-500 font-bold text-sm">{{book.book_description}}</span>
                        <div class="price_location flex flex-col justify-start mt-4 gap-2">
                            <div class="discount text-xs"><span class="bg-blue-500 text-white px-4 py-2 mr-2">{{book.book_discount}}% off </span><br><br> <p class="inline my-3">{{book.seller}}</p> </div>
                            <div class="actual-price flex flex-row justify-between items-center"><span class="font-bold text-2xl">Rs. {{book.book_sp}}</span> <del>Rs. {{book.book_mp}}</del></div>
                            <div class="loation_button">
                                <p>Location: <span class="font-semibold">{{book.book_location}}</span></p>
                                 <span class="block text-xs mt-2 text-center category px-2 py-1 rounded-xl bg-green-500 text-white font-medium">{{book.book_category}}
                                </span>
                            </div>
                        </div>
                        </div>
                    </div>
                    </a>
                    <div class="buy-btn w-[100%]">
                            <a class="block text-center rounded-xl p-3 mt-3 font-bold bg-yellow-400 hover:bg-yellow-500 flex justify-center items-center gap-6" href="/view-book/{{book.book_slug}}">View this Book <i class='bx bx-sm bxs-right-arrow'></i></a>
                        </div>
                </div>
                {% endfor %}
                {% else %}
                <div class="text-medium text-yellow-600 block mt-2 text-3xl text-center font-semibold hover:scale-110 ease-in-out duration-200">
                    <i class='bx bx-sm bxs-sad'></i> Oops! Nothing Found</div>
                {% endif %}
</div>
            </div>
        </div>

    </section>
    <div class="some-divs w-[100%] overflow-x-hidden  bg-white flex flex-col md:flex-row md:items-start">
        <div class="recently-uploaded w-[100%] md:w-[50%] p-4 flex flex-row flex-wrap justify-center">
        <h2 class="text-center font-bold text-2xl text-yellow-600 border-b-4 mb-4 basis-full">Recently Uploaded Books</h2>
        {% for recent in recents %}
        <div class="image-title flex justify-center items-center gap-4 rounded shadow-2xl w-[100%] w-[100%]">
            <img class="w-[100px] p-4 rounded-3xl" src="{{recent.book_cover_photo.url}}" alt="" srcset="">
            <a href="/view-book/{{recent.book_slug}}" class="book-title font-bold text-xl w-[100%] mr-2"> {{recent.book_name}}
                <br>
               <span class="text-sm font-medium"> {{recent.book_location}}</span>
            </a>
        </div>
        {% endfor %}

        </div>
        <div class="most-popular w-[100%] w-[100%] md:w-[50%] p-4 flex flex-row flex-wrap justify-center">
         <h2 class="text-center font-bold text-2xl text-yellow-600 border-b-4 mb-4 basis-full">Most Popular Books</h2>
         {% for popular in populars %}
         <div class="image-title flex justify-center items-center gap-4 rounded shadow-2xl w-[100%]">
             <img class="w-[100px] p-4 rounded-3xl" src="{{popular.book_cover_photo.url}}" alt="" srcset="">
             <a href="/view-book/{{popular.book_slug}}" class="book-title font-bold text-xl w-[100%] mr-2"> {{popular.book_name}}
                 <br>
                <span class="text-sm font-medium">{{popular.book_location}}</span>
             </a>
         </div>
         {% endfor %}
        </div>
     </div>


{% endblock %}